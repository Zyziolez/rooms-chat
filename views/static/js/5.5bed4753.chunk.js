(this.webpackJsonprooms=this.webpackJsonprooms||[]).push([[5,15],{100:function(e,t,n){"use strict";n.d(t,"a",(function(){return l}));var c=n(2),o=n(0),i=n(24),s=n.n(i),r=n(1),a=function(e){var t=e.isOpen,n=(e.onClose,e.children);e.enabled;return t?s.a.createPortal(Object(r.jsx)("div",{style:{height:"100vh",background:"rgba(20, 20, 20, 0.677)",width:"100vw",position:"fixed",top:"0"},children:n}),document.body):null};function l(e){var t=e.open,n=(e.setOpen,e.text),i=Object(o.useState)(!0),s=Object(c.a)(i,2),l=s[0],u=s[1];return Object(o.useEffect)((function(){setTimeout((function(){u(!1)}),2e3)}),[]),Object(r.jsx)("div",{children:Object(r.jsx)(a,{isOpen:t,enabled:l,children:Object(r.jsx)("div",{style:{width:"25rem",background:"white",position:"absolute",height:"30rem",marginTop:"20vh",marginLeft:"50%",transform:"translateX(-50%)",textAlign:"center",padding:"2rem"},children:Object(r.jsxs)("h1",{children:[n," "]})})})})}},102:function(e,t,n){"use strict";n.d(t,"a",(function(){return i})),n.d(t,"b",(function(){return s}));var c=n(0),o=n(1);function i(e){var t=e.chat,n=t.slice(0),i=Object(c.useRef)();return Object(c.useEffect)((function(){i.current.scrollIntoView({behavior:"smooth",block:"start"})}),[t]),Object(o.jsx)("div",{className:"chat-list",children:Object(o.jsxs)("ul",{style:{overflow:"hidden"},children:[n.length>0?n.map((function(e,t){return Object(o.jsxs)("li",{children:[" ",Object(o.jsx)("b",{children:"".concat(e[0],":")}),"  ","".concat(e[1])," "]},t)})):null,Object(o.jsx)("div",{ref:i})]})})}function s(e){var t=e.users;return Object(o.jsx)("ul",{children:Array.isArray(t)?t.map((function(e,t){return Object(o.jsxs)("li",{children:[" ",e," "]},t)})):null})}},105:function(e,t){function n(e){var t=new Error("Cannot find module '"+e+"'");throw t.code="MODULE_NOT_FOUND",t}n.keys=function(){return[]},n.resolve=n,e.exports=n,n.id=105},114:function(e,t,n){"use strict";n.r(t),n.d(t,"default",(function(){return u}));var c=n(2),o=n(0),i=n(24),s=n.n(i),r=n(9),a=n(1),l=function(e){var t=e.isOpened,n=e.children,c=(e.ready,e.klassName);return t?s.a.createPortal(Object(a.jsx)("div",{className:c,style:{height:"100vh",background:"#34ef",width:"100vw",position:"fixed",top:"0"},children:n}),document.body):null};function u(e){var t=e.opened,n=e.setOpened,i=(e.text,Object(o.useState)("pop-menu")),s=Object(c.a)(i,2),u=s[0],d=s[1],b=Object(o.useState)(!1),j=Object(c.a)(b,2),h=j[0],O=j[1],f=function(){O(!0),d("pop-test"),setTimeout((function(){n((function(e){return!e})),d("pop-menu")}),1e3)};return Object(a.jsxs)(l,{isOpened:t,ready:h,klassName:u,children:[Object(a.jsx)("button",{style:{border:"none",background:"transparent",color:"white",position:"absolute",right:"2rem",top:"1rem",fontSize:"3rem",fontWeight:"800",transform:"rotate(90deg)"},className:"menu-btn",onClick:f,children:" ||| "}),Object(a.jsxs)("div",{className:"m-menu",children:[Object(a.jsxs)(r.b,{to:"/",children:[" ",Object(a.jsx)("button",{onClick:f,style:{display:"block"},children:"Home"})," "]}),Object(a.jsxs)("button",{onClick:f,style:{display:"block"},children:[" ",Object(a.jsx)("a",{children:" Change Nickname "})," "]}),Object(a.jsxs)(r.b,{to:"/news",children:[" ",Object(a.jsx)("button",{onClick:f,style:{display:"block"},children:" News "})," "]}),Object(a.jsxs)("button",{onClick:f,style:{display:"block"},children:[" ",Object(a.jsx)("a",{href:"https://discord.gg/37xBPH5Ec4",target:"blank",children:" Discord "})," "]}),Object(a.jsxs)("button",{onClick:f,style:{display:"block"},children:[" ",Object(a.jsx)("a",{href:"https://patreon.com/roomschat",target:"blank",children:" Donate "})," "]}),Object(a.jsxs)(r.b,{to:"/create",children:["  ",Object(a.jsx)("button",{onClick:f,style:{display:"block"},children:"Create Room"})," "]})]})]})}},140:function(e,t,n){"use strict";n.r(t),n.d(t,"default",(function(){return x}));var c=n(39),o=n(2),i=n(0),s=n(20),r=n.n(s),a=n(3),l=n(104),u=n.n(l),d=n(102),b=n(30),j=n(57),h=n(5),O=n(100),f=n(114),m=n(1),p=r()(window.location.origin,{secure:!0});function x(){var e=Object(i.useState)([]),t=Object(o.a)(e,2),n=t[0],s=t[1],r=Object(i.useState)(!1),l=Object(o.a)(r,2),x=l[0],g=l[1],k=Object(i.useState)([]),v=Object(o.a)(k,2),w=v[0],y=v[1],S=Object(i.useState)(""),C=Object(o.a)(S,2),N=C[0],E=C[1],I=Object(i.useState)(""),R=Object(o.a)(I,2),T=R[0],D=R[1],P=Object(i.useState)(0),A=Object(o.a)(P,2),L=A[0],H=A[1],J=[],M=Object(i.useRef)(null),U=Object(h.c)(j.pop),_=Object(o.a)(U,2),z=_[0],B=_[1],F=Object(h.c)(j.menuOpen),K=Object(o.a)(F,2),V=K[0],W=K[1],X=window.location.href;X=X.replace("https://itinit.pl/room/","");var q=new u.a(localStorage.getItem("nick-id")),G=[].concat(J);Object(b.b)(G,localStorage.getItem("nick-id"));Object(i.useEffect)((function(){return p.emit("join-user",X,localStorage.getItem("nick"),localStorage.getItem("nick-id")),J.push(q.id),p.emit("rooms-ids",X,localStorage.getItem("nick-id")),q.on("connection",(function(e){console.log("connected"),e.on("data",(function(e){q.connect(e).send("hejka"),console.log(e)})),e.on("open",(function(t){e.send("hello!"),console.log(t)}))})),p.on("chat",(function(e,t){null!=t?s((function(n){return[].concat(Object(c.a)(n),[[e,t]])})):console.log("wtf")})),p.on("admin",(function(e,t){"kick"==e?(B(!0),setTimeout((function(){B(!1),g(!0),window.location.reload()}),2e3)):"users"==e?(y(t[0]),H(t[1])):"max-reached"==e?(alert("Max number of guests reached!"),g(!0),window.location.reload()):"r-name"===e?E(t):"disc"===e&&window.location.reload()})),function(){s([]),y([]),window.location.reload()}}),[]);var Q=function(){""!=T&&(p.emit("chat",T,localStorage.getItem("nick")),D(""),M.current.focus())};return Object(m.jsxs)("div",{className:"m-room",children:[Object(m.jsx)(O.a,{open:z,setOpen:B,text:"Could not find room with id: ".concat(X)}),Object(m.jsxs)("div",{className:"m-r-up",children:[Object(m.jsxs)("h1",{children:["Rooms name: ",N]}),Object(m.jsxs)("h3",{children:[" ",w.length,"/",L," users"]}),Object(m.jsx)(d.b,{users:w}),Object(m.jsx)("button",{onClick:function(e){Object(b.c)(X),p.disconnect(),g(!0)},children:"Report this Room"})]}),Object(m.jsxs)("div",{className:"m-r-down",children:[Object(m.jsx)(d.a,{chat:n}),Object(m.jsx)("input",{type:"text",ref:M,maxLength:"150",value:T,onKeyPress:function(e){"Enter"===e.key&&Q()},onChange:function(e){return D(e.target.value)}}),Object(m.jsx)("button",{onClick:Q,className:"message-btn",children:"Send"})]}),Object(m.jsx)(f.default,{opened:V,setOpened:W}),x?Object(m.jsx)(a.a,{to:"/"}):null]})}}}]);
//# sourceMappingURL=5.5bed4753.chunk.js.map