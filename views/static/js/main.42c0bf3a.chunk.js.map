{"version":3,"sources":["components/other/functions.js","components/other/LoadingPage.js","components/other/RoomsList.js","components/MainPage.js","components/other/Menu.js","components/other/SearchByCode.js","components/other/AllTop.js","images/bars-solid.svg","App.js","index.js"],"names":["socket","require","openSocket","window","location","href","secure","isBigEnough","num","reportRoom","emit","alert","notMineDontTouch","arr","me","newArr","splice","index","indexOf","LoadingPage","className","RoomsList","rooms","connect","useState","map","room","i","style","width","textAlign","userSelect","onClick","e","origin","MainPage","setRooms","redirect","setRedirect","filteredRooms","filter","useEffect","Promise","res","rej","on","msg","id","to","Menu","useRecoilState","isSetNickname","setOpen","setNickname","localStorage","getItem","clear","target","SearchByCode","value","setValue","notFocus","type","maxLength","placeholder","onChange","autoCapitalize","onKeyPress","key","toLowerCase","AllTop","CreateRoom","lazy","Room","AdminPanel","News","SetNickname","App","open","menuColor","menuOpen","useLocation","setSize","background","state","updateSize","innerWidth","useLayoutEffect","addEventListener","removeEventListener","fallback","exact","path","children","atom","default","pop","ReactDOM","render","StrictMode","document","getElementById"],"mappings":"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","file":"static/js/main.42c0bf3a.chunk.js","sourcesContent":["//hello :)\n\nconst openSocket = require( 'socket.io-client')\n\nconst socket = openSocket(window.location.href, {secure: true});\n\n\n export const join = (roomId, roomsName, username, description) => {\n    if(username){\n        socket.emit('join', roomId, roomsName, username, description)\n    }else{\n        return false\n    }\n\n}\n\nexport function isBigEnough (num) {\n    if(!num[5]){\n        return num[2] > 0\n    }\n    \n}\nexport function reportRoom(num){\n    socket.emit('report-room', num)\n    alert('Room reported!')\n}\nexport function notMineDontTouch(arr, me){\n    const newArr = arr.splice(0)\n    const index = newArr.indexOf(me)\n    newArr.splice(index, 1)\n    return newArr\n}","import React from 'react'\n\nexport default function LoadingPage() {\n    return (\n        <div className='loading' >\n            <h1>Loading <label>.</label> <label>.</label> <label>.</label> </h1>\n        </div>\n    )\n}\n","import React, {useState} from 'react'\nimport {reportRoom} from './functions'\n\nexport default function RoomsList({rooms, connect}) {\n    const [isDisabled, setIsDisabled] = useState(false)\n    return (\n        <div className='rooms-list' >\n           <table>\n           <tbody>\n            <tr>\n                <th>Name</th>\n                <th>Description</th>\n                <th></th>\n                <th>Code</th>\n                <th>Limit</th>\n            </tr>\n         \n                {rooms.map((room, i) => \n                    <tr key={i} >\n                        <td>{room[0]}</td>\n                        <td style={{width: '50%'}} > {room[1]}</td>\n                        <td style={{textAlign: 'center', userSelect: 'all'}} >{room[3]}</td>\n                        <td style={{textAlign: 'center'}} > {room[2]} / {room[4]} </td>\n\n                        <button onClick={(e) => connect(room[3])} >Join</button>\n                    </tr>\n                )}\n            </tbody>\n           </table>\n        </div>\n    )\n}\n","import React, { useState, useEffect } from 'react'\nimport { Redirect, Link } from 'react-router-dom';\nimport openSocket from 'socket.io-client'\nimport {isBigEnough, reportRoom} from './other/functions'\nimport RoomsList from './other/RoomsList';\n\nconst socket = openSocket(window.location.origin, {secure: true});\n// const socket = openSocket(`http://itinit.pl:5000/`);\n\n\nexport default function MainPage() {\n    const [rooms, setRooms] = useState([])\n    const [redirect, setRedirect] = useState([false, ''])\n    const filteredRooms = rooms.filter(isBigEnough)\n\n\n     useEffect(() => {\n\n\n        //this one gets roms from the back\n        const promise = new Promise((res, rej) => {\n            res( socket.on('display-rooms', msg => {\n                if(msg != null){\n                    setRooms(msg)\n                }\n            })  )\n        })\n\n        //checks if our nick is set\n\n        return() => {\n            setRooms([])\n            setRedirect([false, ''])\n        }\n    }, [ ])\n\n    //after passing code to input, reirects to room\n    const connect = (id) => {\n            setRedirect([true, id])\n    }\n\n    return (\n        \n        <div className='main-page' >\n            <div className='existing' >\n                <RoomsList rooms={filteredRooms}  connect={connect} />\n            </div>\n           {/* <Report/> */}\n\n           { redirect[0] ? <Redirect to={`/room/${redirect[1]}`}/> : null}\n        </div>\n    )\n}\n","import React, { useEffect, useState } from 'react'\nimport {  Link} from 'react-router-dom'\nimport {useRecoilState} from 'recoil'\nimport {isSetNickname} from './../../index'\n\nexport default function Menu() {\n  const [open, setOpen] = useRecoilState(isSetNickname)\n  const [nickname, setNickname] = useState(null)\n\n  useEffect(() => {\n    if(localStorage.getItem('nick') !== null){\n        setNickname(localStorage.getItem('nick'))\n        setOpen(false)\n    }\n}, [])\n\n  const changeNickname = () => {\n    localStorage.clear()\n    setOpen(true)\n}\n    return (\n        <div>\n            <div className='menu' >\n          <div className='buttons' >\n            <Link to='/' > <button>Home</button> </Link>\n          <button onClick={changeNickname} >Change Nickname</button>\n          <Link to='/news' ><button>News</button></Link>\n            <button> <a href='https://discord.gg/37xBPH5Ec4' target='blank' >Discord</a></button>\n            {/* <Link to='/support' ><button>Support</button></Link> */}\n            <button> <a href='https://patreon.com/roomschat' target='blank' >Donate</a> </button>\n          </div>       \n      </div>\n        </div>\n    )\n}\n","import React, { useState } from 'react'\nimport { Redirect } from 'react-router-dom'\nimport openSocket from 'socket.io-client'\n\nconst socket = openSocket(window.location.href, {secure: true});\n\n//this one is pretty clear I think there is no need to summarize it\n\nexport default function SearchByCode() {\n    const [value, setValue] = useState('')\n    const [redirect, setRedirect] = useState(false)\n    const [notFocus, setNotFocus] = useState('Search by Code')\n\n    const handleClick = () => {\n        if( value !== '' ){\n            setValue(value.toLowerCase())\n            setRedirect(true)\n        }\n        \n    }\n    const enterHandle = (e) => {\n        if(e.key === \"Enter\"){\n            handleClick()\n        }\n    }\n    \n    return (\n        <div className='search'>\n            <input type='text' maxLength='8' placeholder={notFocus} value={value} onChange={e => setValue(e.target.value)} autoCapitalize='none' onKeyPress={enterHandle}  />\n            <label>|</label>\n            {/* <button onClick={ handleClick } > Search </button> */}\n            {redirect ? <Redirect to={`/room/${value}`}  />: null}\n        </div>\n    )\n}","import React, { useEffect, useState } from 'react'\nimport {  Link} from 'react-router-dom'\nimport SearchByCode from './SearchByCode'\n\nexport default function AllTop() {\n\n    return (\n        <div className='main-top'>\n        <SearchByCode/>\n        <div className='right' >\n        <Link to='/create' > <button>Create Room</button> </Link>\n        \n            {/* <h1> Hello, {localStorage.getItem('nick')} </h1> */}\n        </div>\n        <div className='line' >\n            <div className='shape' ></div>\n        </div>\n        {/* <button onClick={e => window.location.reload()} > <h1>REFRESH</h1> </button>   */}\n    </div>\n    )\n}\n","export default __webpack_public_path__ + \"static/media/bars-solid.e8db7520.svg\";","import React, { lazy, Suspense, useEffect, useLayoutEffect, useState} from 'react'\nimport {\n  Switch,\n  useLocation,\n  Route,\n  Link,\n} from 'react-router-dom'\nimport {isSetNickname, menuColor, menuOpen} from './index'\nimport {useRecoilState} from 'recoil'\nimport LoadingPage from './components/other/LoadingPage'\nimport MainPage from './components/MainPage'\nimport Menu from './components/other/Menu'\nimport AllTop from './components/other/AllTop'\nimport menuImg from './images/bars-solid.svg'\n\nconst CreateRoom = lazy(() => import('./components/CreateRoom'))\nconst Room = lazy(() => import('./components/Room'))\nconst AdminPanel = lazy (() => import('./adminPanel/AdminPanel'))\nconst News = lazy(() => import('./components/other/News'))\nconst SetNickname = lazy(() => import('./components/other/setNickname'))\nconst MLoading = lazy(() => import('./mobile/MLoading'))\nconst MAdmin = lazy(() => import('./mobile/MAdmin'))\nconst MCreate = lazy(() => import('./mobile/MCreate'))\nconst MMenu = lazy(() => import('./mobile/MMenu'))\nconst MNews = lazy(() => import('./mobile/MNews'))\nconst MRoom = lazy(() => import('./mobile/MRoom'))\nconst MMain = lazy(() => import('./mobile/MMain'))\n//this component is mainly focused on handling routes\n\n\n\n\nexport default function App() {\nconst [open, setOpen] = useRecoilState(isSetNickname)\nconst [color, setColor] = useRecoilState(menuColor)\nconst [opened, setOpened] = useRecoilState(menuOpen)\n  const location = useLocation()\n  const [size, setSize] = useState(0)\n  const background = location.state && location.state.background\n\n  const updateSize = () => {\n    setSize(window.innerWidth)\n  }\n\n    useEffect(() => {\n      if(localStorage.getItem('nick') !== null){\n        setOpen(false)\n      }\n    }, [])\n    useLayoutEffect( () => {\n      window.addEventListener('resize', updateSize)\n      updateSize()\n      return () => window.removeEventListener('resize', updateSize);\n    }, [] )\n\n    const openMenu = () => {\n      setOpened(true)\n    }\n\n  return (\n    <div className='all' >\n      <Suspense fallback={ <LoadingPage/> } >\n        <div className='big'>\n          <AllTop/>\n          <Menu/>\n          <div className='down' >\n            \n            <SetNickname open={open} setOpen={setOpen}/>\n              <Switch location={ location || background }>\n                <Route exact path='/'  children={ <MainPage/> } />\n                <Route path='/create'  children={ <CreateRoom/> } />\n                <Route path='/room'  children={ <Room/> } />\n                <Route path='/admin' children={<AdminPanel/>} />\n                <Route path='/news' children={<News/>} />\n              </Switch>\n          </div>\n          <div className='transition-div' ></div>\n        </div>  \n    </Suspense>\n    </div>\n  )\n}\n","import React from 'react';\nimport ReactDOM from 'react-dom';\nimport App from './App';\nimport {RecoilRoot} from 'recoil'\nimport {BrowserRouter as Router} from 'react-router-dom'\n\nimport './styles/style.css'\nimport {atom} from 'recoil'\n\n\n\nexport const isSetNickname = atom({\n  key: 'isSetNickname',\n  default: true\n})\nexport const pop = atom({\n  key: 'pop',\n  default: false\n})\nexport const menuColor = atom({\n  key: 'menucolor',\n  default: '#34ef'\n})\nexport const menuOpen = atom({\n  key: 'menuOpen',\n  default: false\n})\n\nReactDOM.render(\n  <React.StrictMode>\n    <RecoilRoot>\n      <Router>\n        <App />\n      </Router>\n    </RecoilRoot>\n  </React.StrictMode>,\n  document.getElementById('root')\n);\n\n"],"sourceRoot":""}